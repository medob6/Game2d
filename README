# ğŸ® so_long Game Project

## ğŸ“œ Table of Contents
1. [ğŸ“– Introduction](#introduction)
2. [âœ¨ Features](#features)
3. [ğŸš€ Getting Started](#getting-started)
4. [ğŸ•¹ï¸ How to Play](#how-to-play)
5. [ğŸ“‚ Code Overview](#code-overview)
6. [ğŸ“ Project Structure](#project-structure)
7. [ğŸ”§ Technical Details](#technical-details)
8. [ğŸ™ Acknowledgments](#acknowledgments)

## ğŸ“– Introduction
**so_long** is a 2D game built using the **MiniLibX** library and written entirely in **C**. This project demonstrates core game development concepts such as rendering, animation, event handling, and state management. The objective of the game is to collect all the collectibles and reach the exit while avoiding enemies.

## âœ¨ Features
- ğŸ—ºï¸ **Custom Map Loading**: Supports maps designed using a simple text-based format.
- ğŸ¨ **Animation**: Includes animated sprites for the player, enemies, and collectibles.
- ğŸšª **Collision Detection**: Prevents players from moving through walls or enemies.
- ğŸ® **Event Handling**: Implements keyboard controls and a window close handler.
- ğŸ“¸ **Dynamic Rendering**: Optimized rendering for map elements and animations.
- ğŸ† **Game States**: Win or lose conditions with visual feedback.

## ğŸš€ Getting Started

### Prerequisites
- ğŸ› ï¸ **Compiler**: `gcc` or any C compiler supporting the C99 standard.
- ğŸ–¼ï¸ **MiniLibX**: The project depends on the MiniLibX library for graphics rendering. Install it as per your system requirements.
- ğŸ“¦ **Make**: Ensure `make` is installed on your system.

### Installation
1. Clone the repository:
   ```bash
   git clone https://github.com/your-username/so_long.git
   cd so_long
   ```
2. Build the project:
   ```bash
   make
   ```
3. Run the game:
   ```bash
   ./so_long <map_file>
   ```

## ğŸ•¹ï¸ How to Play
- **ğŸ¯ Objective**: Collect all collectibles (`C`) and reach the exit (`E`) to win.
- **ğŸ›ï¸ Controls**:
  - `W`: Move up
  - `A`: Move left
  - `S`: Move down
  - `D`: Move right
  - `ESC`: Quit the game
- **âš ï¸ Enemies**: Avoid the enemies or you will lose the game.

## ğŸ“‚ Code Overview

### ğŸ–Œï¸ Rendering
- **ğŸ§± Tile-Based Rendering**: The map is composed of tiles, each represented by a 64x64 pixel sprite.
- **ğŸ“¤ Background Buffer**: The map background is rendered to an off-screen buffer for efficiency.

### ğŸï¸ Animation
- Animations are implemented by cycling through sprite frames based on the game loopâ€™s timing.
- ğŸ› ï¸ Functions:
  - `animate_player`: Updates the player's sprite based on the frame count.
  - `animate_enemy`: Handles enemy animations.
  - `animate_collectibles`: Animates the collectibles.

### ğŸ–±ï¸ Event Handling
- Uses MiniLibX hooks to manage events:
  - **âŒ¨ï¸ Keyboard Input**: `mlx_hook` is used to capture key presses and update the player's position.
  - **âŒ Window Close**: Handles the close button with a custom `handle_close` function.

### ğŸ” Game Loop
The `game_loop` function ensures the game runs smoothly by:
- ğŸ”„ Updating animations.
- ğŸ–¼ï¸ Re-rendering the game state when necessary.
- ğŸ¯ Managing the game state (win/lose conditions).

### ğŸ—ºï¸ Map Parsing
Maps are loaded from text files and validated for:
- ğŸ”³ Rectangular shape.
- ğŸ›¡ï¸ Proper wall boundaries.
- ğŸ® Presence of required elements (`P`, `E`, `C`).

## ğŸ“ Project Structure
```
so_long/
â”œâ”€â”€ src/                 # Source code
â”‚   â”œâ”€â”€ main.c          # Entry point
â”‚   â”œâ”€â”€ game_loop.c     # Game loop and state management
â”‚   â”œâ”€â”€ rendering.c     # Rendering functions
â”‚   â”œâ”€â”€ animation.c     # Animation functions
â”‚   â”œâ”€â”€ input.c         # Input handling
â”‚   â””â”€â”€ map_parser.c    # Map loading and validation
â”œâ”€â”€ include/            # Header files
â”‚   â””â”€â”€ so_long.h       # Project-wide header
â”œâ”€â”€ textures/           # Game assets (sprites)
â”œâ”€â”€ maps/               # Example maps
â”œâ”€â”€ Makefile            # Build system
â””â”€â”€ README.md           # Project documentation
```

## ğŸ”§ Technical Details

### MiniLibX Integration
- The MiniLibX library is used for creating a window, rendering images, and handling events.
- ğŸ› ï¸ Key MiniLibX functions:
  - `mlx_init`: Initializes the MLX library.
  - `mlx_new_window`: Creates a game window.
  - `mlx_put_image_to_window`: Displays images in the window.
  - `mlx_hook`: Registers event handlers (e.g., key press, window close).
  - `mlx_loop`: Starts the MLX event loop.

### Key Implementations
1. **ğŸ”„ Game Loop**: The central mechanism that updates the game state and animations.
2. **ğŸï¸ Animation**: Smooth transitions between sprite frames.
3. **ğŸ›¡ï¸ Collision Detection**: Prevents invalid moves and detects interactions with collectibles and enemies.
4. **ğŸ† Win/Lose Conditions**: Visual feedback for the end-game state.

### Challenges Solved
- â²ï¸ Blocking behaviors like `sleep` were replaced with time-based delays to ensure rendering continuity.
- ğŸ§¹ Implemented a clean shutdown process to free resources and close the game gracefully.

## ğŸ™ Acknowledgments
- **ğŸŒ 42 Network**: For providing the opportunity to learn and develop this project.
- **ğŸ¨ MiniLibX**: The lightweight graphics library used in this project.
- **ğŸ‘©â€ğŸ« Mentors and Peers**: For their guidance and support during development.

